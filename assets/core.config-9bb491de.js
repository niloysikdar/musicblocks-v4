import{a as d,_ as l}from"./dynamic-import-helper-e113e409.js";import{m as _}from"./index-ff3587a5.js";function g(n){const e=n.length,t=(()=>{const s=new Array(e);for(let i=0;i<e;i++){const p=n[i];s[i]=new Array(e),s[i].fill(!1);for(let o=0;o<e;o++){const c=n[o];p.dependencies.includes(c.id)&&(s[i][o]=!0)}}return s})();return(()=>{let s=[],i=[],p=n.map((o,c)=>c);for(;p.length>0;){for(let o=0;o<e;o++){let c=!1;for(let f=0;f<e;f++)if(t[o][f]===!0){c=!0;break}!c&&!s.includes(o)&&(i.push(o),p.splice(p.findIndex(f=>f===o),1))}if(i.length===0)throw Error("Invalid Config: dependency resolution results in a cyclic graph");for(const o of i){s.push(o);for(let c=0;c<e;c++)t[c][o]=!1}i=[]}return s})().map(s=>n[s].id)}const a={};async function v(n){await a[n].mount()}async function E(n){await a[n].setup()}function w(n){return n in a?a[n]:null}async function h(n,e){return a[n]=await d(Object.assign({"../../components/editor/index.ts":()=>l(()=>import("./module.editor-09596063.js"),["assets/module.editor-09596063.js","assets/core.view-a874b342.js","assets/index-0b306afc.js","assets/index-a8cb8f58.css","assets/index-97cad2bf.js","assets/_commonjs-dynamic-modules-302442b1.js","assets/index-ff3587a5.js","assets/index-0ef6c638.css"]),"../../components/menu/index.ts":()=>l(()=>import("./module.menu-9bf2ad09.js"),["assets/module.menu-9bf2ad09.js","assets/index-ff3587a5.js","assets/index-97cad2bf.js","assets/core.view-a874b342.js","assets/index-0b306afc.js","assets/index-a8cb8f58.css","assets/index-c7c70e2a.css"]),"../../components/painter/index.ts":()=>l(()=>import("./module.painter-9262a925.js"),["assets/module.painter-9262a925.js","assets/index-97cad2bf.js","assets/index-ff3587a5.js","assets/core.view-a874b342.js","assets/index-0b306afc.js","assets/index-a8cb8f58.css","assets/_commonjs-dynamic-modules-302442b1.js","assets/index-e491dcfc.css"]),"../../components/singer/index.ts":()=>l(()=>import("./module.singer-a4042ce8.js"),["assets/module.singer-a4042ce8.js","assets/index-ff3587a5.js"])}),`../../components/${e}/index.ts`),a[n]}async function x(n,e,r){return Object.fromEntries(await Promise.all(n.map(t=>[t,e[t].path]).map(([t,m])=>h(t,m).then(u=>(r!==void 0&&r(t),[t,u]))))),a}async function D(n,e){return new Promise(r=>{const t=n.entries();async function m(u){if(u.done)return;const[s,i]=u.value;return await v(i),e!==void 0&&e(i),m(t.next())}m(t.next()).then(()=>requestAnimationFrame(()=>r()))})}async function C(n,e){return new Promise(r=>{const t=n.entries();async function m(u){if(u.done)return;const[s,i]=u.value;return await E(i),e!==void 0&&e(i),m(t.next())}m(t.next()).then(()=>requestAnimationFrame(()=>r()))})}function I(n){_.registerElementSpecificationEntries(_.librarySpecification),n.filter(({filter:e})=>e!==void 0).map(({id:e,filter:r})=>r===!0?{id:e,specification:a[e].elements}:{id:e,specification:Object.fromEntries(Object.entries(a[e].elements).filter(([t])=>r==null?void 0:r.includes(t)))}).map(({specification:e})=>e).filter(e=>e!==void 0).forEach(e=>_.registerElementSpecificationEntries(e))}export{w as getComponent,h as importComponent,x as importComponents,D as mountComponents,I as registerElements,g as serializeComponentDependencies,C as setupComponents};
//# sourceMappingURL=core.config-9bb491de.js.map
